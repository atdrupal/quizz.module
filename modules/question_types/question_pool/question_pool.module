<?php

use Drupal\question_pool\QuestionTypeInstaller;
use Drupal\quiz_question\Entity\QuestionType;

/**
 * Implements hook_quiz_question_info().
 */
function question_pool_quiz_question_info() {
  return array(
      'pool' => array(
          'name'              => t('Question pool'),
          'description'       => t('This provides question pool for use by the Quiz module.'),
          'question provider' => 'Drupal\question_pool\PoolQuestion',
          'response provider' => 'Drupal\question_pool\PoolResponseHandler',
          'module'            => 'quiz_question',
      ),
  );
}

/**
 * Implements hook_ENTITYTYPE_insert()
 * @param QuestionType $question_type
 */
function question_pool_quiz_question_type_insert($question_type) {
  $installer = new QuestionTypeInstaller();
  if ('pool' === $question_type->handler) {
    return $installer->setup($question_type);
  }
  return $installer->addNewTarget($question_type);
}
